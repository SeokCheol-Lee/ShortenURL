# **URL 단축 서비스**

### **프로젝트 개요**

URL 단축 서비스는 긴 URL을 짧고 간결한 URL로 변환하여 사용자에게 제공하는 시스템입니다. 이 서비스는 URL을 데이터베이스에 저장하고, 해당 URL의 인덱스를 Base62로 인코딩하여 짧은 URL을 생성합니다. 사용자가 단축된 URL을 클릭하면, 원본 URL로 리다이렉트됩니다.

### **주요 기능**

1. **Short URL 생성**
  - 원본 URL을 데이터베이스에 저장하고, 고유값을 생성하여 Base62로 인코딩.
  - 고유값으로 단축 URL을 생성하여 사용자에게 제공.
2. **리다이렉션**
  - 단축된 URL을 클릭하면, Base62 값을 디코딩하여 데이터베이스에서 원본 URL을 조회.
  - 조회된 원본 URL로 리다이렉트.

## 구현 세부사항

### **Short URL 생성 원리**

- **고유값 생성**:
  - 초기에는 AutoIncrement ID를 사용했으나, 너무 짧아지는 문제를 해결하기 위해 UUID를 사용.
  - UUID를 사용하여 고유값을 생성하고, 이를 Base62로 인코딩.
- **Base62 인코딩**:
  - Base62는 URL에 안전한 문자 집합으로, '0-9', 'a-z', 'A-Z'를 사용.
  - Base64의 '+'와 '/'를 제외하여 Query String에서 문제가 발생하지 않도록 함.
- **데이터베이스 저장**:
  - 원본 URL과 생성된 고유값을 데이터베이스에 저장.
  - 고유값을 인코딩한 Base62 문자열을 생성하여 응답.

### **실행 흐름**

![Untitled](doc/img/shorten-url%20flow.png)

### **1. Short URL 생성**

1. 사용자가 원본 URL을 POST 요청으로 '/url' 엔드포인트에 전달.
2. 서버는 URL의 고유값을 UUID로 생성.
3. UUID를 Base62로 인코딩하여 단축 URL 생성.
4. 원본 URL과 고유값을 데이터베이스에 저장.
5. 단축된 URL을 응답으로 반환.

![Untitled](doc/img/flow-detail.png)

### **2. URL 리다이렉션**

![Untitled](doc/img/redirect-flow.png)

1. 사용자가 단축 URL을 클릭.
2. 서버는 단축 URL에서 Base62 값을 추출하여 디코딩.
3. 디코딩된 값을 데이터베이스에서 조회하여 원본 URL을 얻음.
4. 원본 URL로 리다이렉트.

### **사용 기술 스택**

- **백엔드**: Spring Boot
- **데이터베이스**: MySQL
- **인코딩/디코딩**: Base62 알고리즘
- **식별자 생성**: UUID

## **주요 성과 및 배운 점**

### **1. 효율적인 URL 인코딩 및 디코딩**

- **Base62 인코딩**: 단순하고 효율적인 알고리즘을 사용하여 URL 인코딩과 디코딩을 빠르게 수행.
- **UUID 사용**: 고유값 생성 시 AutoIncrement 대신 UUID를 사용하여 충돌을 방지하고, 고유값의 길이를 적절히 유지.

### **2. 안정성 있는 데이터 저장 및 조회**

- **빠른 조회**: Redis를 활용하여 Hit이 된 단축 URL 조회시 빠른 응답 속도 유지.

### **3. 사용자 경험 개선**

- **짧고 간결한 URL 제공**: 긴 URL을 짧게 변환하여 사용자 편의성 향상.
- **신속한 리다이렉트**: 사용자가 단축 URL을 클릭했을 때, 빠른 리다이렉트를 통해 원본 사이트로의 원활한 이동.

### **결론**

URL 단축 서비스는 사용자에게 간편하고 효율적인 URL 단축 기능을 제공하며, 안정적인 리다이렉션을 통해 원활한 사용자 경험을 보장합니다. 고유값 생성, Base62 인코딩, 효율적인 데이터베이스 조회 등 다양한 기술을 통해 구현했습니다.
<br/><br/><br/><br/><br/><br/><br/>
[참조 링크] : https://velog.io/@sweet_sumin/Shorten-URL%EC%9D%84-%EA%B5%AC%ED%98%84-%EB%B0%A9%EB%B2%95

